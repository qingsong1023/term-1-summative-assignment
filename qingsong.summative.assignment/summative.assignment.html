<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>art summative</title>
    <link href="css.css" rel="stylesheet">
    <script type="text/javascript" src="DOM file.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
</head>

<body>
  <div class="nav">
        <ul class="ullist">
            <li class="libt"><a href="#">home</a></li>
            <li class="libt"><a href="#">discover</a></li>
            <li class="libt"><a href="#">learn</a></li>
            <li class="libt"><a href="#">find more</a></li>
            <li class="libt"><a href="#">contact us</a></li>
        </ul>
    </div>
    <div class="fun">
      <h1 align="center">ART</h1>
    </div>
    <h2 align="center">Art makes the world colourful</h2>
    <br><br><br><br><br>
    <div id="cover">
        <form method="get" action="">
          <div class="tb">
            <div class="td"><input type="text" placeholder="Search" required></div>
            <div class="td" id="s-cover">
              <button type="submit">
                <div id="s-circle"></div>
                <span></span>
              </button>
            </div>
          </div>
        </form>
      </div>
      <br>
      <p1>
        Art is a diverse range of human activity, and resulting product, that involves creative or imaginative talent expressive of technical proficiency, beauty, emotional power, or conceptual ideas.
      </p1>
      <br>
      <p2>
        In the Western tradition, the three classic branches of the visual arts are painting, sculpture and architecture. Theatre, dance and other performing arts, as well as other media such as literature, music, film and interactive media, are all included in the broad definition of the arts.
      </p2>
      <br>
        <p3>
          Different artists have different styles. Here are some very famous artists and their representative works:
        </p3>
      <br><br><br>
      <div class="box_div_art">
        <div class="box_div">
          <div id="box0">
            <p4>
              Van Gogh:
            </p4>
          </div>
          <br><br>
          <div id="box1">
            <img src="image/星空.jpg">
            <br><br>
            <p5>
              <a href="https://en.wikipedia.org/wiki/The_Starry_Night">Starry Night:</a>
            </p5>
            <br><br>
            <p6>
              Starry Night, a famous painting by Dutch Post-Impressionist painter Vincent van Gogh in 1890 in an asylum in Saint-Rémy, Provence, France, now in the collection of the Museum of Modern Art in New York, is one of the world's most famous Western paintings.
            </p6>
          </div>
          <br><br>
          <div id="box2">
            <img src="image/向日葵.jfif" class="fun">
            <br><br>
            <p7>
            <a href="https://en.wikipedia.org/wiki/Sunflowers_(Van_Gogh_series)">Sunflowers:</a>
            </p7>
            <br><br>
            <p8>
            The Sunflowers is a series of still life paintings by the Dutch painter Van Gogh. Two of them are painted with 15 sunflowers, one with 14 sunflowers, and two with 12 sunflowers. The artist painted the first 15 Sunflowers (in the British National Gallery, London, England) and the first 12 Sunflowers (in the Neue Galerie, Munich, Germany) in Arles, southern France, in August 1888.
            </p8>
          </div>  
        </div>
        <br><br>
        <div class="box_div">
          <div id="box3">
            <p4>
              Leonardo da Vinci:
            </p4>
          </div>
          <br><br>
          <div id="box4">
            <img src="image/蒙娜丽莎的微笑.jfif">
            <br><br>
            <p9>
              <a href="https://en.wikipedia.org/wiki/Mona_Lisa">Mona Lisa's smile:</a>
            </p9>
            <br><br>
            <p10>
              The Mona Lisa is a portrait bust by the Italian artist Leonardo da Vinci. Considered the quintessential masterpiece of the Italian Renaissance, it has been described as "the most famous, most visited, most written, most sung and most imitated work of art in the world".
            </p10>
          </div>
          <br><br>
          <div id="box5">
            <img src="image/最后的晚餐.jfif">
            <br><br>
            <p11>
              <a href="https://en.wikipedia.org/wiki/The_Last_Supper_(Leonardo)">The Last Supper:</a>
            </p11>
            <br><br>
            <p12>
              This painting depicts the Last Supper of Jesus with the Twelve, as told in John's Gospel - especially the moment after Jesus announces that one of his apostles will betray him.
            </p12>
          </div>
        </div>
        <br><br>
        <div class="box_div">
          <div id="box6">
            <p4>
              Picasso:
            </p4>
          </div>
          <br><br>
          <div id="box7">
            <img src="image/老吉他手.jpg">
            <br><br>
            <p13>
              <a href="https://en.wikipedia.org/wiki/The_Old_Guitarist">The Old Guitarist:</a>
            </p13>
            <br><br>
            <p14>
              The Old Guitarist is an oil painting by Picasso, painted in late 1903 and early 1904, depicting an ageing musician, an emaciated man in shabby clothes, bowed over his guitar playing the streets of Barcelona, Spain.
            </p14>
          </div>
          <br><br>
          <div id="box8">
            <img src="image/哭泣的女人.jfif">
            <br><br>
            <p15>
              <a href="https://en.wikipedia.org/wiki/The_Weeping_Woman">The Weeping Woman:</a>
            </p15>
            <br><br>
            <p16>
              The painting depicts Picasso's mistress and muse Dora Maar ( Dora Maar ). The painting of the weeping woman was created by Picasso in response to the bombing of Guernica during the Spanish Civil War and is closely related to the portrait in his painting Guernica
            </p16>
          </div>
        </div>
      </div>
      <br><br>
      <p17>
        Do you want to be an artist and make your own art works? join us!
      </p17>
      <br><br>
      <div class="box">
        <h2>Login</h2>
        <div class="input-box">
            <label>account</label>
            <input type="text"/>
        </div>
        <div class="input-box">
            <label>password</label>
            <input type="password"/>
        </div>
        <div class="btn-box">
            <a href="#">forget the password?</a>
            <div>
                <button>Login</button>
                <button>Register</button>
            </div>
        </div>
      </div>
      <br>
    <div class="slideshow">
      <div class="image">
          <img src="./image/1.jpg"  id="img-show">
      </div>
      <div class="previous" id="to-pre">❮</div>
      <div class="next" id="to-next">❯</div>
      <div class="dots" id="dot-container">
      </div>
  </div>
  <script src="slide.js"></script>
  <br><br><br><br><br><br>
  <p18>
    these are some art works that I collected. 
    <br>
    do you want to be an artist and do you want let more and more people know your works?
    <br>
  </p18>
  <p19>come and join us!</p19>
  <div id="wrap">
    <div id="prompt"></div>
  </div>
  <hr/>
  <div class="tool">
    <button id="btn-sort">sort</button>
    <button id="btn-add">add</button>
  </div>
  <p>
    Here are some figures on the number of paintings produced by these three famous artists in their lifetime 
  </p>
  <script>

    const WIDTH = 600;// 画布宽度
    const HEIGHT = 400;// 画布高度
    const PADDING = 30;// 画布四周空间
  
    // 模拟数据
    let dataList = [2100, 4100, 37000];
  
    // 排序标记
    let sort_flag = false;
  
    // 生成svg画布
    d3.select('#wrap')
      .append('svg')
      .classed('container', true)
      .attr('width', WIDTH + PADDING * 2)
      .attr('height', HEIGHT + PADDING *2)
      .style('background', '#f0f0f0')
  
    // 容器画布
    let container = d3.select('.container')
  
    // y线性比例尺
    let yScale = d3.scaleLinear()
      .domain([0, d3.max(dataList)])
      .range([HEIGHT, 0])// 坐标轴从下往上，所以反过来
    let yAxis = d3.axisLeft(yScale);
  
    // x序数比例尺
    let xScale = d3.scaleBand()
      .domain(d3.range(dataList.length))
      .range([4, WIDTH])
      .paddingInner(0.2)// 定义柱形之间的间隙
    let xAxis = d3.axisBottom(xScale);
  
    // y轴坐标轴展示
    container.append('g')
      .attr('id', 'yAxis')
      .attr('transform', 'translate(' + PADDING + ',' + PADDING + ')')
      .call(yAxis)
  
    // x轴坐标轴展示
    container.append('g')
      .attr('id', 'xAxis')
      .attr('transform', 'translate(' + PADDING + ',' + (HEIGHT + PADDING) + ')')
      .call(xAxis)
  
    // 柱状图容器
    let rectGroup = container.append('g').attr('id', 'rectGroup');
    // 文本容器
    let textGroup = container.append('g').attr('id', 'textGroup');
  
    // 加载rect
    function renderRect() {
      rectGroup.selectAll('rect')
        .data(dataList)
        .enter()
        .append('rect')
        .classed('rect', true)
        .on('click', (d)=>{// 添加点击提示的事件
          let x = d3.event.pageX;
          let y = d3.event.pageY;
          d3.select('#prompt')
            .style('display', 'block')
            .style('left', x + 'px')
            .style('top', y + 'px')
            .text(d)
        })
  
      container.selectAll('.rect')
        .attr('width', xScale.bandwidth())
        .attr('height', 0)
        .attr('x', (d, i)=>{
          return xScale(i) + PADDING
        })
        .attr('y', (d, i)=>{
          return HEIGHT + PADDING
        })
        .style('fill', 'skyblue')
        .transition()// 设置过渡
        .duration(300)
        .delay((d, i)=>{
          return i * 20
        })
        .attr('height', (d, i)=>{
          return HEIGHT - yScale(d)
        })
        .attr('y', (d, i)=>{
          return yScale(d) + PADDING
        })
  
    }
  
    // 加载文本
    function renderText() {
      textGroup.selectAll('text')
        .data(dataList)
        .enter()
        .append('text')
        .classed('text', true)
  
      textGroup.selectAll('text')
        .attr('text-anchor', 'middle')// 将文本中点设置为中心
        .text((d, i)=>{
          return d
        })
        .attr('x', (d, i)=>{
          return xScale(i) + xScale.bandwidth() / 2 + PADDING
        })
        .attr('y', HEIGHT + PADDING - 10)
        .transition()
        .duration(300)
        .delay((d, i)=>{
          return i * 20
        })
        .attr('y', (d, i)=>{
          return yScale(d) + PADDING - 10
        })
        .style('fill', (d, i)=>{
          if (d > 25) {// 大于25的文本显示为红色
            return 'red'
          }
        })
    }
  
    // 更新视图（修改数据时调用）
    function refresh() {
      // 更新比例尺
      yScale.domain([0, d3.max(dataList)])
      d3.select('#yAxis').call(yAxis);
      xScale.domain(d3.range(dataList.length))
      d3.select('#xAxis').call(xAxis);
  
      // 重新加载内容
      renderRect();
      renderText();
    }
  
    // 加载事件
    function initEvent() {
      // 离开时关闭提示
      d3.select('#wrap').on('mouseleave', ()=>{
        d3.select('#prompt').style('display', 'none')
      })
  
      // 点击排序
      d3.select('#btn-sort').on('click', ()=>{
        rectGroup.selectAll('rect')
          .sort((a, b)=>{// d3自带方法，升序降序
            return sort_flag ? d3.descending(a, b) : d3.ascending(a, b)
          })
          .transition()
          .duration(500)
          .attr('x', (d, i)=>{
            return xScale(i) + PADDING
          })
  
          textGroup.selectAll('text')
          .sort((a, b)=>{// d3自带方法，升序降序
            return sort_flag ? d3.descending(a, b) : d3.ascending(a, b)
          })
          .transition()
          .duration(500)
          .attr('x', (d, i)=>{
            return xScale(i) + xScale.bandwidth() / 2 + PADDING
          })
  
          sort_flag = !sort_flag;// 切换顺序
      })
  
      // 点击添加
      d3.select('#btn-add').on('click', ()=>{
        let randomNum = Math.ceil(Math.random() * 50)// 生成一个随机数字
        dataList.push(randomNum)// 放入数据
  
        refresh();// 更新视图
      })
    }
  
    // 视图初始化
    renderRect();
    renderText();
    initEvent();
  
  </script>
</body>
</html>